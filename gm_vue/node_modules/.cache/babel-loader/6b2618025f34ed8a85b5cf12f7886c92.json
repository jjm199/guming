{"remainingRequest":"E:\\Project\\JavaProject\\guming\\gm_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\JavaProject\\guming\\gm_vue\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\Project\\JavaProject\\guming\\gm_vue\\src\\router\\index.js","dependencies":[{"path":"E:\\Project\\JavaProject\\guming\\gm_vue\\src\\router\\index.js","mtime":1636029758689},{"path":"E:\\Project\\JavaProject\\guming\\gm_vue\\babel.config.js","mtime":1636029874558},{"path":"E:\\Project\\JavaProject\\guming\\gm_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Project\\JavaProject\\guming\\gm_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Project\\JavaProject\\guming\\gm_vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9Mb2dpbicpOwogIH0gLy8gfSwKICAvLyB7CiAgLy8gICBwYXRoOiAnL3JlZ2lzdGVyJywKICAvLyAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1JlZ2lzdGVyJykKICAvLyB9LAogIC8vIHsKICAvLyAgIHBhdGg6ICcvaW5kZXgnLAogIC8vICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvTWFpbicpLAogIC8vICAgcmVkaXJlY3Q6ICcvZGFzaGJvYXJkJywKICAvLyAgIGNoaWxkcmVuOiBbCiAgLy8gICAgIC8v5Luq6KGo55uY5LuL57uNKGFsbCkKICAvLyAgICAgewogIC8vICAgICAgIHBhdGg6ICcvZGFzaGJvYXJkJywKICAvLyAgICAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9NYXAnKQogIC8vICAgICB9LAogIC8vICAgICAvL+eUqOaIt+euoeeQhijotoXnuqfnrqHnkIblkZgpCiAgLy8gICAgIHsKICAvLyAgICAgICBwYXRoOiAnL3VzZXJNYW5hZ2UnLAogIC8vICAgICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1VzZXJNYW5hZ2UnKQogIC8vICAgICB9LAogIC8vICAgICAvL+inkuiJsuS/oeaBryjotoXnuqfnrqHnkIblkZgpCiAgLy8gICAgIHsKICAvLyAgICAgICBwYXRoOiAnL2dldEJyYW5jaCcsCiAgLy8gICAgICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvQnJhbmNoJykKICAvLyAgICAgfQogIC8vICAgXQoKfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJyk7IC8vMuS4quS4jeeUqHRva2Vu55qE6aG16Z2i6K+35rGCCgogIGlmICh0by5wYXRoID09PSAnLycgfHwgdG8ucGF0aCA9PT0gJy9yZWdpc3RlcicpIHsKICAgIHJldHVybiBuZXh0KCk7CiAgfSAvL+ayoeaciXRva2Vu55qE5oOF5Ya1IOebtOaOpei/lOWbnueZu+W9lemhtQoKCiAgaWYgKCF0b2tlbikgcmV0dXJuIG5leHQoJy8nKTsgLy/lsZ7kuo7nrqHnkIblkZjnmoTlip/og70KCiAgaWYgKHRvLnBhdGggPT09ICcvdXNlck1hbmFnZScgfHwgdG8ucGF0aCA9PT0gJy9nZXRCcmFuY2gnIHx8IHRvLnBhdGggPT09ICcvYnVzaW5lc3NNYW5hZ2UnIHx8IHRvLnBhdGggPT09ICcvbWVzc2FnZU1hbmFnZScgfHwgdG8ucGF0aCA9PT0gJy9nZXRCcmFuY2gnKSB7CiAgICBheGlvcy5nZXQoJy9jb21tb24vY2hlY2tUb2tlbicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgLy9jb25zb2xlLmxvZyhyZXNwLmRhdGEpOwogICAgICBpZiAocmVzcC5kYXRhLmNvZGUgPT09IDIwMCAmJiByZXNwLmRhdGEuZGF0YS5yb2xlSWQgPT09ICc0JykgewogICAgICAgIC8v5b2T5YmN55So5oi35pC65bim55qEdG9rZW7kv6Hmga/mraPnoa7lubbkuJTmmK/nrqHnkIblkZgKICAgICAgICBuZXh0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5leHQoJy9pbmRleCcpOwogICAgICB9CiAgICB9KTsKICB9IC8v5bGe5LqO566h55CG5ZGY5Y+I5bGe5LqO6ZO26KGM5p+c5ZGYCgoKICBpZiAodG8ucGF0aCA9PT0gJy9saW5lTWFuYWdlJyB8fCB0by5wYXRoID09PSAnL29yZGVyc01hbmFnZScgfHwgdG8ucGF0aCA9PT0gJy9xdWV1ZU1hbmFnZScpIHsKICAgIGF4aW9zLmdldCgnL2NvbW1vbi9jaGVja1Rva2VuJykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICBpZiAocmVzcC5kYXRhLmNvZGUgPT09IDIwMCAmJiByZXNwLmRhdGEuZGF0YS5yb2xlSWQgPT09ICc0JyB8fCByZXNwLmRhdGEuZGF0YS5yb2xlSWQgPT09ICczJykgewogICAgICAgIG5leHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbmV4dCgnL2luZGV4Jyk7CiAgICAgIH0KICAgIH0pOwogIH0gLy/lhbbku5bmjqXlj6Pnm7TmjqXmlL7ooYwKCgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["E:/Project/JavaProject/guming/gm_vue/src/router/index.js"],"names":["Vue","VueRouter","axios","use","routes","path","component","router","beforeEach","to","from","next","token","window","localStorage","getItem","get","then","resp","data","code","roleId"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,qBAAP,CAAN;AAAA,GAFb,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5BA,CADa,CAAf;AAiCA,IAAMC,MAAM,GAAG,IAAIN,SAAJ,CAAc;AAC3BG,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf;AAGAG,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAAd,CADoC,CAEpC;;AACA,MAAIN,EAAE,CAACJ,IAAH,KAAY,GAAZ,IAAmBI,EAAE,CAACJ,IAAH,KAAY,WAAnC,EAAgD;AAC9C,WAAOM,IAAI,EAAX;AACD,GALmC,CAMpC;;;AACA,MAAI,CAACC,KAAL,EAAY,OAAOD,IAAI,CAAC,GAAD,CAAX,CAPwB,CAQpC;;AACA,MAAIF,EAAE,CAACJ,IAAH,KAAY,aAAZ,IAA6BI,EAAE,CAACJ,IAAH,KAAY,YAAzC,IAAyDI,EAAE,CAACJ,IAAH,KAAY,iBAArE,IAA0FI,EAAE,CAACJ,IAAH,KAAY,gBAAtG,IACAI,EAAE,CAACJ,IAAH,KAAY,YADhB,EAC8B;AAC5BH,IAAAA,KAAK,CAACc,GAAN,CAAU,oBAAV,EAAgCC,IAAhC,CAAqC,UAACC,IAAD,EAAU;AAC7C;AACA,UAAIA,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,GAAnB,IAA0BF,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAeE,MAAf,KAA0B,GAAxD,EAA6D;AAAC;AAC5DV,QAAAA,IAAI;AACL,OAFD,MAEO;AACL,eAAOA,IAAI,CAAC,QAAD,CAAX;AACD;AACF,KAPD;AAQD,GAnBmC,CAoBpC;;;AACA,MAAIF,EAAE,CAACJ,IAAH,KAAY,aAAZ,IAA6BI,EAAE,CAACJ,IAAH,KAAY,eAAzC,IAA4DI,EAAE,CAACJ,IAAH,KAAY,cAA5E,EAA4F;AAC1FH,IAAAA,KAAK,CAACc,GAAN,CAAU,oBAAV,EAAgCC,IAAhC,CAAqC,UAACC,IAAD,EAAU;AAC7C,UAAIA,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,GAAnB,IAA0BF,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAeE,MAAf,KAA0B,GAApD,IAA2DH,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAeE,MAAf,KAA0B,GAAzF,EAA8F;AAC5FV,QAAAA,IAAI;AACL,OAFD,MAEO;AACL,eAAOA,IAAI,CAAC,QAAD,CAAX;AACD;AACF,KAND;AAOD,GA7BmC,CA8BpC;;;AACAA,EAAAA,IAAI;AACL,CAhCD;AAkCA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport axios from 'axios'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    component: () => import('../components/Login')\n  // },\n  // {\n  //   path: '/register',\n  //   component: () => import('../components/Register')\n  // },\n  // {\n  //   path: '/index',\n  //   component: () => import('../components/Main'),\n  //   redirect: '/dashboard',\n  //   children: [\n  //     //仪表盘介绍(all)\n  //     {\n  //       path: '/dashboard',\n  //       component: () => import('../components/Map')\n  //     },\n  //     //用户管理(超级管理员)\n  //     {\n  //       path: '/userManage',\n  //       component: () => import('../components/UserManage')\n  //     },\n  //     //角色信息(超级管理员)\n  //     {\n  //       path: '/getBranch',\n  //       component: () => import('../components/Branch')\n  //     }\n  //   ]\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\nrouter.beforeEach((to, from, next) => {\n  const token = window.localStorage.getItem('authorization')\n  //2个不用token的页面请求\n  if (to.path === '/' || to.path === '/register') {\n    return next()\n  }\n  //没有token的情况 直接返回登录页\n  if (!token) return next('/')\n  //属于管理员的功能\n  if (to.path === '/userManage' || to.path === '/getBranch' || to.path === '/businessManage' || to.path === '/messageManage' ||\n      to.path === '/getBranch') {\n    axios.get('/common/checkToken').then((resp) => {\n      //console.log(resp.data);\n      if (resp.data.code === 200 && resp.data.data.roleId === '4') {//当前用户携带的token信息正确并且是管理员\n        next()\n      } else {\n        return next('/index')\n      }\n    })\n  }\n  //属于管理员又属于银行柜员\n  if (to.path === '/lineManage' || to.path === '/ordersManage' || to.path === '/queueManage') {\n    axios.get('/common/checkToken').then((resp) => {\n      if (resp.data.code === 200 && resp.data.data.roleId === '4' || resp.data.data.roleId === '3') {\n        next()\n      } else {\n        return next('/index')\n      }\n    })\n  }\n  //其他接口直接放行\n  next()\n})\n\nexport default router"]}]}